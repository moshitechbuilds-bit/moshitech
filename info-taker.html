<!DOCTYPE html>
<html lang="en-PH">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=5, user-scalable=yes" />
    <title>Website Intake Form | Moshi Tech</title>
    <meta name="description" content="Professional website onboarding and intake automation system for web design clients." />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet" />
    <link rel="icon" type="image/png" sizes="32x32" href="logos/favicon.png" />
    <style>
        :root {
            --bg-900: #01030a;
            --bg-800: #050b16;
            --bg-700: #0b1424;
            --card: rgba(14, 25, 42, 0.85);
            --border: rgba(255, 255, 255, 0.08);
            --text: #f5f8ff;
            --muted: rgba(245, 248, 255, 0.7);
            --cyan: #33d0ff;
            --purple: #8f5bff;
            --blue: #0d9bff;
            --success: #10b981;
            --error: #ef4444;
            --gradient: radial-gradient(circle at 10% 20%, rgba(46, 197, 255, 0.25), transparent),
                radial-gradient(circle at 90% 10%, rgba(142, 93, 255, 0.25), transparent),
                #050b16;
            --radius: 18px;
            --font: "Inter", system-ui, -apple-system, BlinkMacSystemFont, sans-serif;
        }

        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
        }

        body {
            font-family: var(--font);
            color: var(--text);
            background: var(--bg-900);
            line-height: 1.6;
            -webkit-font-smoothing: antialiased;
            min-height: 100vh;
            padding: 2rem 1rem;
        }

        .container {
            max-width: 800px;
            margin: 0 auto;
        }

        .header {
            text-align: center;
            margin-bottom: 3rem;
        }

        .header h1 {
            font-size: 2.5rem;
            font-weight: 700;
            margin-bottom: 0.5rem;
            background: linear-gradient(135deg, var(--cyan), var(--purple));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .header p {
            color: var(--muted);
            font-size: 1.1rem;
        }

        .progress-bar {
            width: 100%;
            height: 8px;
            background: var(--bg-700);
            border-radius: 10px;
            overflow: hidden;
            margin-bottom: 2rem;
        }

        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, var(--cyan), var(--purple));
            transition: width 0.3s ease;
            width: 0%;
        }

        .step-indicator {
            display: flex;
            justify-content: space-between;
            margin-bottom: 2rem;
            position: relative;
        }

        .step-indicator::before {
            content: '';
            position: absolute;
            top: 20px;
            left: 0;
            right: 0;
            height: 2px;
            background: var(--bg-700);
            z-index: 0;
        }

        .step-dot {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            background: var(--bg-700);
            border: 2px solid var(--border);
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 600;
            position: relative;
            z-index: 1;
            transition: all 0.3s ease;
        }

        .step-dot.active {
            background: linear-gradient(135deg, var(--cyan), var(--purple));
            border-color: transparent;
            color: var(--bg-900);
        }

        .step-dot.completed {
            background: var(--success);
            border-color: var(--success);
        }

        .form-container {
            background: var(--card);
            border: 1px solid var(--border);
            border-radius: var(--radius);
            padding: 3rem;
            backdrop-filter: blur(10px);
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
        }

        .step {
            display: none;
            animation: fadeIn 0.3s ease;
        }

        .step.active {
            display: block;
        }

        @keyframes fadeIn {
            from {
                opacity: 0;
                transform: translateY(10px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .step-title {
            font-size: 1.8rem;
            font-weight: 700;
            margin-bottom: 0.5rem;
        }

        .step-description {
            color: var(--muted);
            margin-bottom: 2rem;
            font-size: 1rem;
        }

        .form-group {
            margin-bottom: 1.5rem;
        }

        label {
            display: block;
            font-weight: 600;
            margin-bottom: 0.5rem;
            color: var(--text);
        }

        .required {
            color: var(--error);
        }

        input[type="text"],
        input[type="url"],
        input[type="email"],
        textarea,
        select {
            width: 100%;
            padding: 1rem;
            background: var(--bg-800);
            border: 1px solid var(--border);
            border-radius: 12px;
            color: var(--text);
            font-family: var(--font);
            font-size: 1rem;
            transition: all 0.3s ease;
        }

        input:focus,
        textarea:focus,
        select:focus {
            outline: none;
            border-color: var(--cyan);
            box-shadow: 0 0 0 3px rgba(51, 208, 255, 0.1);
        }

        textarea {
            resize: vertical;
            min-height: 120px;
        }

        .radio-group,
        .checkbox-group {
            display: flex;
            flex-direction: column;
            gap: 1rem;
        }

        .radio-option,
        .checkbox-option {
            display: flex;
            align-items: center;
            padding: 1rem;
            background: var(--bg-800);
            border: 2px solid var(--border);
            border-radius: 12px;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .radio-option:hover,
        .checkbox-option:hover {
            border-color: var(--cyan);
            background: rgba(51, 208, 255, 0.05);
        }

        .radio-option input[type="radio"],
        .checkbox-option input[type="checkbox"] {
            margin-right: 0.75rem;
            width: 20px;
            height: 20px;
            cursor: pointer;
        }

        .radio-option.selected,
        .checkbox-option.selected {
            border-color: var(--cyan);
            background: rgba(51, 208, 255, 0.1);
        }

        .file-upload-area {
            border: 2px dashed var(--border);
            border-radius: 12px;
            padding: 2rem;
            text-align: center;
            background: var(--bg-800);
            cursor: pointer;
            transition: all 0.3s ease;
            position: relative;
            -webkit-tap-highlight-color: transparent;
        }

        .file-upload-area:hover {
            border-color: var(--cyan);
            background: rgba(51, 208, 255, 0.05);
        }

        .file-upload-area:active {
            transform: scale(0.98);
        }

        .file-upload-area.dragover {
            border-color: var(--cyan);
            background: rgba(51, 208, 255, 0.1);
        }

        @media (hover: none) {
            .file-upload-area:hover {
                border-color: var(--border);
                background: var(--bg-800);
            }
        }

        .file-input {
            display: none;
        }

        .upload-icon {
            font-size: 3rem;
            margin-bottom: 1rem;
        }

        .uploaded-files {
            margin-top: 1rem;
            display: flex;
            flex-direction: column;
            gap: 0.5rem;
        }

        .uploaded-file {
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding: 0.75rem;
            background: var(--bg-700);
            border-radius: 8px;
            gap: 1rem;
        }

        .file-info {
            display: flex;
            align-items: center;
            gap: 0.75rem;
            flex: 1;
            min-width: 0;
        }

        .file-thumbnail {
            width: 50px;
            height: 50px;
            border-radius: 8px;
            object-fit: cover;
            flex-shrink: 0;
            background: var(--bg-800);
        }

        .file-name {
            flex: 1;
            min-width: 0;
            overflow: hidden;
            text-overflow: ellipsis;
            white-space: nowrap;
        }

        .upload-status {
            padding: 0.5rem 1rem;
            border-radius: 8px;
            font-size: 0.875rem;
            font-weight: 600;
        }

        .upload-status.uploading {
            background: rgba(13, 155, 255, 0.2);
            color: var(--blue);
        }

        .upload-status.success {
            background: rgba(16, 185, 129, 0.2);
            color: var(--success);
        }

        .upload-status.error {
            background: rgba(239, 68, 68, 0.2);
            color: var(--error);
        }

        .btn {
            padding: 1rem 2rem;
            font-family: var(--font);
            font-size: 1rem;
            font-weight: 600;
            border: none;
            border-radius: 12px;
            cursor: pointer;
            transition: all 0.3s ease;
            display: inline-flex;
            align-items: center;
            gap: 0.5rem;
        }

        .btn-primary {
            background: linear-gradient(135deg, var(--cyan), var(--purple));
            color: var(--bg-900);
        }

        .btn-primary:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 30px rgba(51, 208, 255, 0.3);
        }

        .btn-primary:disabled {
            opacity: 0.5;
            cursor: not-allowed;
            transform: none;
        }

        .btn-secondary {
            background: var(--bg-800);
            color: var(--text);
            border: 1px solid var(--border);
        }

        .btn-secondary:hover {
            background: var(--bg-700);
        }

        .button-group {
            display: flex;
            gap: 1rem;
            justify-content: flex-end;
            margin-top: 2rem;
        }

        .error-message {
            color: var(--error);
            font-size: 0.875rem;
            margin-top: 0.5rem;
            display: none;
        }

        .error-message.show {
            display: block;
        }

        .summary-section {
            background: var(--bg-800);
            border-radius: 12px;
            padding: 1.5rem;
            margin-bottom: 1rem;
        }

        .summary-section h3 {
            font-size: 1.2rem;
            margin-bottom: 1rem;
            color: var(--cyan);
        }

        .summary-item {
            margin-bottom: 0.75rem;
        }

        .summary-label {
            font-weight: 600;
            color: var(--muted);
            margin-bottom: 0.25rem;
        }

        .summary-value {
            color: var(--text);
        }

        .summary-list {
            list-style: none;
            padding-left: 0;
        }

        .summary-list li {
            padding: 0.5rem 0;
            border-bottom: 1px solid var(--border);
        }

        .summary-list li:last-child {
            border-bottom: none;
        }

        @media (max-width: 768px) {
            body {
                padding: 1rem 0.5rem;
            }

            .container {
                padding: 0 0.5rem;
            }

            .form-container {
                padding: 1.5rem 1rem;
                border-radius: 12px;
            }

            .header h1 {
                font-size: 1.75rem;
            }

            .header p {
                font-size: 0.9rem;
            }

            .step-indicator {
                flex-wrap: wrap;
                gap: 0.25rem;
                margin-bottom: 1.5rem;
            }

            .step-dot {
                width: 32px;
                height: 32px;
                font-size: 0.875rem;
            }

            .step-title {
                font-size: 1.5rem;
            }

            .step-description {
                font-size: 0.9rem;
                margin-bottom: 1.5rem;
            }

            .button-group {
                flex-direction: column;
                gap: 0.75rem;
            }

            .btn {
                width: 100%;
                justify-content: center;
                padding: 0.875rem 1.5rem;
                font-size: 0.9375rem;
            }

            .form-group {
                margin-bottom: 1.25rem;
            }

            input[type="text"],
            input[type="url"],
            input[type="email"],
            textarea,
            select {
                padding: 0.875rem;
                font-size: 0.9375rem;
            }

            textarea {
                min-height: 100px;
            }

            .radio-option,
            .checkbox-option {
                padding: 0.875rem;
                font-size: 0.9375rem;
            }

            .file-upload-area {
                padding: 1.5rem 1rem;
            }

            .upload-icon {
                font-size: 2.5rem;
                margin-bottom: 0.75rem;
            }

            .file-upload-area p {
                font-size: 0.875rem;
            }

            .uploaded-file {
                padding: 0.625rem;
                font-size: 0.875rem;
                flex-wrap: wrap;
            }

            .file-thumbnail {
                width: 40px;
                height: 40px;
            }

            .file-name {
                font-size: 0.875rem;
            }

            .upload-status {
                font-size: 0.75rem;
                padding: 0.375rem 0.75rem;
            }

            .summary-section {
                padding: 1rem;
            }

            .summary-section h3 {
                font-size: 1.1rem;
            }

            .summary-label,
            .summary-value {
                font-size: 0.875rem;
            }
        }

        @media (max-width: 480px) {
            .header h1 {
                font-size: 1.5rem;
            }

            .step-dot {
                width: 28px;
                height: 28px;
                font-size: 0.75rem;
            }

            .step-title {
                font-size: 1.25rem;
            }

            .form-container {
                padding: 1.25rem 0.875rem;
            }

            .file-upload-area {
                padding: 1.25rem 0.875rem;
            }

            .upload-icon {
                font-size: 2rem;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>Website Intake Form</h1>
            <p>Let's gather all the information we need to create your perfect website</p>
        </div>

        <div class="progress-bar">
            <div class="progress-fill" id="progressFill"></div>
        </div>

        <div class="step-indicator" id="stepIndicator"></div>

        <div class="form-container">
            <form id="intakeForm">
                <!-- Step 1: Business Information -->
                <div class="step active" id="step1">
                    <h2 class="step-title">Business Information</h2>
                    <p class="step-description">Let's start with the basics about your business or brand.</p>

                    <div class="form-group">
                        <label for="businessName">Business or Brand Name <span class="required">*</span></label>
                        <input type="text" id="businessName" name="businessName" required />
                        <div class="error-message" id="businessNameError">Please enter your business or brand name.</div>
                    </div>

                    <div class="form-group">
                        <label>Do you already have an existing website? <span class="required">*</span></label>
                        <div class="radio-group">
                            <label class="radio-option">
                                <input type="radio" name="existingWebsite" value="yes" required />
                                <span>Yes, I have an existing website</span>
                            </label>
                            <label class="radio-option">
                                <input type="radio" name="existingWebsite" value="no" required />
                                <span>No, this will be my first website</span>
                            </label>
                        </div>
                        <div class="error-message" id="existingWebsiteError">Please select an option.</div>
                    </div>

                    <div class="form-group" id="websiteUrlGroup" style="display: none;">
                        <label for="websiteUrl">Existing Website URL</label>
                        <input type="url" id="websiteUrl" name="websiteUrl" placeholder="https://example.com" />
                        <div class="error-message" id="websiteUrlError">Please enter a valid URL.</div>
                    </div>

                    <div class="button-group">
                        <button type="button" class="btn btn-primary" onclick="nextStep()">Next</button>
                    </div>
                </div>

                <!-- Step 2: Website Category -->
                <div class="step" id="step2">
                    <h2 class="step-title">Website Category</h2>
                    <p class="step-description">What type of website are you looking to create?</p>

                    <div class="form-group">
                        <label>Website Category <span class="required">*</span></label>
                        <div class="radio-group">
                            <label class="radio-option">
                                <input type="radio" name="category" value="Portfolio Website" required />
                                <span>Portfolio Website</span>
                            </label>
                            <label class="radio-option">
                                <input type="radio" name="category" value="Business Website" required />
                                <span>Business Website</span>
                            </label>
                            <label class="radio-option">
                                <input type="radio" name="category" value="Dental or Medical Website" required />
                                <span>Dental or Medical Website</span>
                            </label>
                            <label class="radio-option">
                                <input type="radio" name="category" value="E-commerce" required />
                                <span>E-commerce</span>
                            </label>
                            <label class="radio-option">
                                <input type="radio" name="category" value="Personal Brand" required />
                                <span>Personal Brand</span>
                            </label>
                            <label class="radio-option">
                                <input type="radio" name="category" value="Agency" required />
                                <span>Agency</span>
                            </label>
                            <label class="radio-option">
                                <input type="radio" name="category" value="Restaurant" required />
                                <span>Restaurant</span>
                            </label>
                            <label class="radio-option">
                                <input type="radio" name="category" value="Real Estate" required />
                                <span>Real Estate</span>
                            </label>
                            <label class="radio-option">
                                <input type="radio" name="category" value="Landing Page" required />
                                <span>Landing Page</span>
                            </label>
                            <label class="radio-option">
                                <input type="radio" name="category" value="Other" required />
                                <span>Other</span>
                            </label>
                        </div>
                        <div class="error-message" id="categoryError">Please select a website category.</div>
                    </div>

                    <div class="button-group">
                        <button type="button" class="btn btn-secondary" onclick="previousStep()">Previous</button>
                        <button type="button" class="btn btn-primary" onclick="nextStep()">Next</button>
                    </div>
                </div>

                <!-- Step 3: Business Details -->
                <div class="step" id="step3">
                    <h2 class="step-title">Business Details</h2>
                    <p class="step-description">Tell us more about your business and goals.</p>

                    <div class="form-group">
                        <label for="businessDescription">Business Description <span class="required">*</span></label>
                        <textarea id="businessDescription" name="businessDescription" placeholder="Describe your business in your own words..." required></textarea>
                        <div class="error-message" id="businessDescriptionError">Please provide a description of your business.</div>
                    </div>

                    <div class="form-group">
                        <label for="targetAudience">Target Audience <span class="required">*</span></label>
                        <textarea id="targetAudience" name="targetAudience" placeholder="Who is your ideal customer? (e.g., age, interests, demographics)" required></textarea>
                        <div class="error-message" id="targetAudienceError">Please describe your target audience.</div>
                    </div>

                    <div class="form-group">
                        <label>Main Goal of the Website <span class="required">*</span></label>
                        <div class="radio-group">
                            <label class="radio-option">
                                <input type="radio" name="mainGoal" value="Leads" required />
                                <span>Generate Leads</span>
                            </label>
                            <label class="radio-option">
                                <input type="radio" name="mainGoal" value="Bookings" required />
                                <span>Accept Bookings</span>
                            </label>
                            <label class="radio-option">
                                <input type="radio" name="mainGoal" value="Sales" required />
                                <span>Drive Sales</span>
                            </label>
                            <label class="radio-option">
                                <input type="radio" name="mainGoal" value="Credibility" required />
                                <span>Build Credibility</span>
                            </label>
                            <label class="radio-option">
                                <input type="radio" name="mainGoal" value="Branding" required />
                                <span>Branding</span>
                            </label>
                        </div>
                        <div class="error-message" id="mainGoalError">Please select the main goal of your website.</div>
                    </div>

                    <div class="button-group">
                        <button type="button" class="btn btn-secondary" onclick="previousStep()">Previous</button>
                        <button type="button" class="btn btn-primary" onclick="nextStep()">Next</button>
                    </div>
                </div>

                <!-- Step 4: Design Preferences -->
                <div class="step" id="step4">
                    <h2 class="step-title">Design Preferences</h2>
                    <p class="step-description">Help us understand your design vision.</p>

                    <div class="form-group">
                        <label>Preferred Style <span class="required">*</span></label>
                        <div class="radio-group">
                            <label class="radio-option">
                                <input type="radio" name="designStyle" value="Modern" required />
                                <span>Modern</span>
                            </label>
                            <label class="radio-option">
                                <input type="radio" name="designStyle" value="Luxury" required />
                                <span>Luxury</span>
                            </label>
                            <label class="radio-option">
                                <input type="radio" name="designStyle" value="Minimalist" required />
                                <span>Minimalist</span>
                            </label>
                            <label class="radio-option">
                                <input type="radio" name="designStyle" value="Professional" required />
                                <span>Professional</span>
                            </label>
                            <label class="radio-option">
                                <input type="radio" name="designStyle" value="Creative" required />
                                <span>Creative</span>
                            </label>
                            <label class="radio-option">
                                <input type="radio" name="designStyle" value="Designer's Choice" required />
                                <span>Designer's Choice</span>
                            </label>
                        </div>
                        <div class="error-message" id="designStyleError">Please select a preferred design style.</div>
                    </div>

                    <div class="form-group">
                        <label for="colorPreferences">Color Preferences</label>
                        <textarea id="colorPreferences" name="colorPreferences" placeholder="Describe your preferred colors, brand colors, or any specific color schemes you have in mind..."></textarea>
                    </div>

                    <div class="form-group">
                        <label for="exampleWebsites">Example Websites (Optional)</label>
                        <textarea id="exampleWebsites" name="exampleWebsites" placeholder="List any websites you like or find inspiring, along with URLs if possible..."></textarea>
                    </div>

                    <div class="button-group">
                        <button type="button" class="btn btn-secondary" onclick="previousStep()">Previous</button>
                        <button type="button" class="btn btn-primary" onclick="nextStep()">Next</button>
                    </div>
                </div>

                <!-- Step 5: Content & Images -->
                <div class="step" id="step5">
                    <h2 class="step-title">Content & Images</h2>
                    <p class="step-description">How would you like to handle images for your website?</p>

                    <div class="form-group">
                        <label>Image Preference <span class="required">*</span></label>
                        <div class="radio-group">
                            <label class="radio-option">
                                <input type="radio" name="imagePreference" value="upload" required />
                                <span>Upload My Own Images</span>
                            </label>
                            <label class="radio-option">
                                <input type="radio" name="imagePreference" value="stock" required />
                                <span>Use Stock Images</span>
                            </label>
                            <label class="radio-option">
                                <input type="radio" name="imagePreference" value="mix" required />
                                <span>Mix of Both</span>
                            </label>
                        </div>
                        <div class="error-message" id="imagePreferenceError">Please select an image preference.</div>
                    </div>

                    <div class="form-group" id="imageUploadGroup" style="display: none;">
                        <label>Upload Images</label>
                        <div class="file-upload-area" id="fileUploadArea">
                            <div class="upload-icon">üìÅ</div>
                            <p>Click to upload or drag and drop</p>
                            <p style="color: var(--muted); font-size: 0.875rem; margin-top: 0.5rem;">Supports: JPG, PNG, GIF, WEBP (Max 10MB per file)</p>
                            <input type="file" id="imageUpload" class="file-input" multiple accept="image/*" />
                        </div>
                        <div class="uploaded-files" id="uploadedFiles"></div>
                    </div>

                    <div class="button-group">
                        <button type="button" class="btn btn-secondary" onclick="previousStep()">Previous</button>
                        <button type="button" class="btn btn-primary" onclick="nextStep()">Next</button>
                    </div>
                </div>

                <!-- Step 6: Pages & Features -->
                <div class="step" id="step6">
                    <h2 class="step-title">Pages & Features</h2>
                    <p class="step-description">What pages and features do you need on your website?</p>

                    <div class="form-group">
                        <label>Required Pages <span class="required">*</span></label>
                        <div class="checkbox-group">
                            <label class="checkbox-option">
                                <input type="checkbox" name="pages" value="Home" required />
                                <span>Home</span>
                            </label>
                            <label class="checkbox-option">
                                <input type="checkbox" name="pages" value="About" />
                                <span>About</span>
                            </label>
                            <label class="checkbox-option">
                                <input type="checkbox" name="pages" value="Services" />
                                <span>Services</span>
                            </label>
                            <label class="checkbox-option">
                                <input type="checkbox" name="pages" value="Portfolio" />
                                <span>Portfolio</span>
                            </label>
                            <label class="checkbox-option">
                                <input type="checkbox" name="pages" value="Testimonials" />
                                <span>Testimonials</span>
                            </label>
                            <label class="checkbox-option">
                                <input type="checkbox" name="pages" value="Pricing" />
                                <span>Pricing</span>
                            </label>
                            <label class="checkbox-option">
                                <input type="checkbox" name="pages" value="Contact" />
                                <span>Contact</span>
                            </label>
                            <label class="checkbox-option">
                                <input type="checkbox" name="pages" value="Booking" />
                                <span>Booking</span>
                            </label>
                            <label class="checkbox-option">
                                <input type="checkbox" name="pages" value="FAQ" />
                                <span>FAQ</span>
                            </label>
                        </div>
                        <div class="error-message" id="pagesError">Please select at least one page (Home is required).</div>
                    </div>

                    <div class="form-group">
                        <label>Special Features</label>
                        <div class="checkbox-group">
                            <label class="checkbox-option">
                                <input type="checkbox" name="features" value="Contact Forms" />
                                <span>Contact Forms</span>
                            </label>
                            <label class="checkbox-option">
                                <input type="checkbox" name="features" value="Chat Integration" />
                                <span>Chat Integration</span>
                            </label>
                            <label class="checkbox-option">
                                <input type="checkbox" name="features" value="Booking System" />
                                <span>Booking System</span>
                            </label>
                            <label class="checkbox-option">
                                <input type="checkbox" name="features" value="Payments" />
                                <span>Payments</span>
                            </label>
                            <label class="checkbox-option">
                                <input type="checkbox" name="features" value="Maps" />
                                <span>Maps Integration</span>
                            </label>
                            <label class="checkbox-option">
                                <input type="checkbox" name="features" value="Social Links" />
                                <span>Social Media Links</span>
                            </label>
                        </div>
                    </div>

                    <div class="button-group">
                        <button type="button" class="btn btn-secondary" onclick="previousStep()">Previous</button>
                        <button type="button" class="btn btn-primary" onclick="nextStep()">Next</button>
                    </div>
                </div>

                <!-- Step 7: Additional Preferences -->
                <div class="step" id="step7">
                    <h2 class="step-title">Additional Preferences</h2>
                    <p class="step-description">Any other preferences, tone, or special requests?</p>

                    <div class="form-group">
                        <label for="additionalPreferences">Additional Preferences, Tone, or Special Requests</label>
                        <textarea id="additionalPreferences" name="additionalPreferences" placeholder="Feel free to describe any additional preferences, desired tone, special requests, or anything else you'd like us to know..."></textarea>
                    </div>

                    <div class="button-group">
                        <button type="button" class="btn btn-secondary" onclick="previousStep()">Previous</button>
                        <button type="button" class="btn btn-primary" onclick="nextStep()">Next</button>
                    </div>
                </div>

                <!-- Step 8: Summary & Confirmation -->
                <div class="step" id="step8">
                    <h2 class="step-title">Review & Confirm</h2>
                    <p class="step-description">Please review all the information below and confirm to proceed.</p>

                    <div id="summaryContent"></div>

                    <div class="button-group">
                        <button type="button" class="btn btn-secondary" onclick="previousStep()">Previous</button>
                        <button type="submit" class="btn btn-primary">Confirm & Submit</button>
                    </div>
                </div>
            </form>

            <div id="successMessage" style="display: none; text-align: center; padding: 3rem;">
                <div style="font-size: 4rem; margin-bottom: 1rem;">‚úÖ</div>
                <h2 style="font-size: 2rem; margin-bottom: 1rem; color: var(--success);">Form Submitted Successfully!</h2>
                <p style="color: var(--muted); margin-bottom: 1.5rem;">Thank you for providing all the information. We'll be in touch soon to begin creating your website.</p>
                <p style="color: var(--text); font-size: 1.1rem; font-weight: 600;">
                    Redirecting to homepage in <span id="countdown">5</span> seconds...
                </p>
            </div>
        </div>
    </div>

    <script>
        // ============================================
        // CONFIGURATION - UPDATE THIS VALUE
        // ============================================
        const CONFIG = {
            // Google Apps Script Web App URL
            GOOGLE_APPS_SCRIPT_URL: "https://script.google.com/macros/s/AKfycbw7BFuAjfR8jWNpePP40vUyMRIviM9aD1SLnI8dxN4oFXOGJ7XfM4wdWztTBbm_04oeIQ/exec",
            
            // Google Drive Folder ID (from the URL you provided)
            GOOGLE_DRIVE_FOLDER_ID: "1ElU-xfvFtMspvjKBR5BUkyrsCM6OL2ZR" // This is from your Drive folder URL
        };

        const totalSteps = 8;
        let currentStep = 1;
        const formData = {
            uploadedFiles: []
        };

        // Initialize step indicator
        function initStepIndicator() {
            const indicator = document.getElementById('stepIndicator');
            indicator.innerHTML = '';
            for (let i = 1; i <= totalSteps; i++) {
                const dot = document.createElement('div');
                dot.className = 'step-dot';
                dot.textContent = i;
                if (i === 1) dot.classList.add('active');
                indicator.appendChild(dot);
            }
        }

        // Update progress
        function updateProgress() {
            const progress = (currentStep / totalSteps) * 100;
            document.getElementById('progressFill').style.width = progress + '%';

            // Update step indicator
            const dots = document.querySelectorAll('.step-dot');
            dots.forEach((dot, index) => {
                dot.classList.remove('active', 'completed');
                if (index + 1 < currentStep) {
                    dot.classList.add('completed');
                } else if (index + 1 === currentStep) {
                    dot.classList.add('active');
                }
            });
        }

        // Show step
        function showStep(step) {
            document.querySelectorAll('.step').forEach(s => s.classList.remove('active'));
            document.getElementById(`step${step}`).classList.add('active');
            currentStep = step;
            updateProgress();
            
            // Check image preference when step 5 is shown
            if (step === 5) {
                setTimeout(() => {
                    const selectedOption = document.querySelector('input[name="imagePreference"]:checked');
                    const imageUploadGroup = document.getElementById('imageUploadGroup');
                    if (imageUploadGroup && selectedOption && (selectedOption.value === 'upload' || selectedOption.value === 'mix')) {
                        imageUploadGroup.style.display = 'block';
                    }
                }, 100);
            }
        }

        // Validate current step
        function validateStep(step) {
            const stepElement = document.getElementById(`step${step}`);
            const requiredFields = stepElement.querySelectorAll('[required]');
            let isValid = true;

            requiredFields.forEach(field => {
                const errorElement = document.getElementById(field.name + 'Error') || 
                                   document.getElementById(field.id + 'Error');
                
                if (field.type === 'radio' || field.type === 'checkbox') {
                    const group = document.querySelectorAll(`[name="${field.name}"]`);
                    const checked = Array.from(group).some(f => f.checked);
                    if (!checked) {
                        isValid = false;
                        if (errorElement) {
                            errorElement.classList.add('show');
                        }
                    } else {
                        if (errorElement) errorElement.classList.remove('show');
                    }
                } else {
                    if (!field.value.trim()) {
                        isValid = false;
                        if (errorElement) {
                            errorElement.classList.add('show');
                        }
                        field.style.borderColor = 'var(--error)';
                    } else {
                        if (errorElement) errorElement.classList.remove('show');
                        field.style.borderColor = '';
                    }
                }
            });

            // Special validation for pages (must have Home)
            if (step === 6) {
                const homeCheckbox = document.querySelector('input[name="pages"][value="Home"]');
                if (!homeCheckbox.checked) {
                    isValid = false;
                    document.getElementById('pagesError').classList.add('show');
                }
            }

            return isValid;
        }

        // Next step
        function nextStep() {
            if (!validateStep(currentStep)) {
                return;
            }

            // Save form data for current step
            saveStepData(currentStep);

            if (currentStep < totalSteps) {
                showStep(currentStep + 1);
                
                // Generate summary on last step
                if (currentStep === 8) {
                    generateSummary();
                }
            }
        }

        // Previous step
        function previousStep() {
            if (currentStep > 1) {
                showStep(currentStep - 1);
            }
        }

        // Save step data
        function saveStepData(step) {
            const stepElement = document.getElementById(`step${step}`);
            
            if (step === 1) {
                const existingWebsite = document.querySelector('input[name="existingWebsite"]:checked')?.value;
                formData.businessName = document.getElementById('businessName').value;
                formData.existingWebsite = existingWebsite;
                if (existingWebsite === 'yes') {
                    formData.websiteUrl = document.getElementById('websiteUrl').value;
                }
            } else if (step === 2) {
                formData.category = document.querySelector('input[name="category"]:checked')?.value;
            } else if (step === 3) {
                formData.businessDescription = document.getElementById('businessDescription').value;
                formData.targetAudience = document.getElementById('targetAudience').value;
                formData.mainGoal = document.querySelector('input[name="mainGoal"]:checked')?.value;
            } else if (step === 4) {
                formData.designStyle = document.querySelector('input[name="designStyle"]:checked')?.value;
                formData.colorPreferences = document.getElementById('colorPreferences').value;
                formData.exampleWebsites = document.getElementById('exampleWebsites').value;
            } else if (step === 5) {
                formData.imagePreference = document.querySelector('input[name="imagePreference"]:checked')?.value;
            } else if (step === 6) {
                formData.pages = Array.from(document.querySelectorAll('input[name="pages"]:checked')).map(cb => cb.value);
                formData.features = Array.from(document.querySelectorAll('input[name="features"]:checked')).map(cb => cb.value);
            } else if (step === 7) {
                formData.additionalPreferences = document.getElementById('additionalPreferences').value;
            }
        }

        // Generate summary
        function generateSummary() {
            const summaryContent = document.getElementById('summaryContent');
            let html = '';

            html += `<div class="summary-section">
                <h3>Business Information</h3>
                <div class="summary-item">
                    <div class="summary-label">Business Name:</div>
                    <div class="summary-value">${formData.businessName || 'N/A'}</div>
                </div>
                <div class="summary-item">
                    <div class="summary-label">Existing Website:</div>
                    <div class="summary-value">${formData.existingWebsite === 'yes' ? 'Yes' : 'No'}</div>
                </div>
                ${formData.websiteUrl ? `<div class="summary-item">
                    <div class="summary-label">Website URL:</div>
                    <div class="summary-value">${formData.websiteUrl}</div>
                </div>` : ''}
            </div>`;

            html += `<div class="summary-section">
                <h3>Website Details</h3>
                <div class="summary-item">
                    <div class="summary-label">Category:</div>
                    <div class="summary-value">${formData.category || 'N/A'}</div>
                </div>
                <div class="summary-item">
                    <div class="summary-label">Main Goal:</div>
                    <div class="summary-value">${formData.mainGoal || 'N/A'}</div>
                </div>
                <div class="summary-item">
                    <div class="summary-label">Business Description:</div>
                    <div class="summary-value">${formData.businessDescription || 'N/A'}</div>
                </div>
                <div class="summary-item">
                    <div class="summary-label">Target Audience:</div>
                    <div class="summary-value">${formData.targetAudience || 'N/A'}</div>
                </div>
            </div>`;

            html += `<div class="summary-section">
                <h3>Design Preferences</h3>
                <div class="summary-item">
                    <div class="summary-label">Design Style:</div>
                    <div class="summary-value">${formData.designStyle || 'N/A'}</div>
                </div>
                ${formData.colorPreferences ? `<div class="summary-item">
                    <div class="summary-label">Color Preferences:</div>
                    <div class="summary-value">${formData.colorPreferences}</div>
                </div>` : ''}
                ${formData.exampleWebsites ? `<div class="summary-item">
                    <div class="summary-label">Example Websites:</div>
                    <div class="summary-value">${formData.exampleWebsites}</div>
                </div>` : ''}
            </div>`;

            html += `<div class="summary-section">
                <h3>Content & Images</h3>
                <div class="summary-item">
                    <div class="summary-label">Image Preference:</div>
                    <div class="summary-value">${formData.imagePreference === 'upload' ? 'Upload My Own Images' : formData.imagePreference === 'stock' ? 'Use Stock Images' : 'Mix of Both'}</div>
                </div>
                ${formData.uploadedFiles.length > 0 ? `<div class="summary-item">
                    <div class="summary-label">Uploaded Files:</div>
                    <div class="summary-value">${formData.uploadedFiles.length} file(s) uploaded</div>
                </div>` : ''}
            </div>`;

            html += `<div class="summary-section">
                <h3>Pages & Features</h3>
                <div class="summary-item">
                    <div class="summary-label">Required Pages:</div>
                    <div class="summary-value">
                        <ul class="summary-list">
                            ${(formData.pages || []).map(page => `<li>${page}</li>`).join('')}
                        </ul>
                    </div>
                </div>
                ${formData.features && formData.features.length > 0 ? `<div class="summary-item">
                    <div class="summary-label">Special Features:</div>
                    <div class="summary-value">
                        <ul class="summary-list">
                            ${formData.features.map(feature => `<li>${feature}</li>`).join('')}
                        </ul>
                    </div>
                </div>` : ''}
            </div>`;

            if (formData.additionalPreferences) {
                html += `<div class="summary-section">
                    <h3>Additional Preferences</h3>
                    <div class="summary-item">
                        <div class="summary-value">${formData.additionalPreferences}</div>
                    </div>
                </div>`;
            }

            summaryContent.innerHTML = html;
        }

        // Handle existing website toggle
        document.querySelectorAll('input[name="existingWebsite"]').forEach(radio => {
            radio.addEventListener('change', function() {
                const urlGroup = document.getElementById('websiteUrlGroup');
                if (this.value === 'yes') {
                    urlGroup.style.display = 'block';
                } else {
                    urlGroup.style.display = 'none';
                    document.getElementById('websiteUrl').value = '';
                }
            });
        });

        // Handle radio/checkbox styling
        document.querySelectorAll('.radio-option, .checkbox-option').forEach(option => {
            option.addEventListener('click', function(e) {
                if (e.target.type !== 'radio' && e.target.type !== 'checkbox') {
                    const input = this.querySelector('input[type="radio"], input[type="checkbox"]');
                    if (input) {
                        if (input.type === 'radio') {
                            document.querySelectorAll(`input[name="${input.name}"]`).forEach(r => {
                                r.closest('.radio-option').classList.remove('selected');
                                r.checked = false;
                            });
                            input.checked = true;
                            this.classList.add('selected');
                        } else {
                            input.checked = !input.checked;
                            if (input.checked) {
                                this.classList.add('selected');
                            } else {
                                this.classList.remove('selected');
                            }
                        }
                    }
                }
            });

            const input = option.querySelector('input');
            if (input && input.checked) {
                option.classList.add('selected');
            }

            input.addEventListener('change', function() {
                if (this.type === 'radio') {
                    document.querySelectorAll(`input[name="${this.name}"]`).forEach(r => {
                        r.closest('.radio-option').classList.remove('selected');
                    });
                }
                if (this.checked) {
                    option.classList.add('selected');
                } else {
                    option.classList.remove('selected');
                }
            });
        });

        // Handle file upload - initialize after DOM is ready
        function initializeFileUpload() {
            const fileUploadArea = document.getElementById('fileUploadArea');
            const imageUpload = document.getElementById('imageUpload');
            const imageUploadGroup = document.getElementById('imageUploadGroup');
            const uploadedFiles = document.getElementById('uploadedFiles');

            if (!fileUploadArea || !imageUpload || !imageUploadGroup || !uploadedFiles) {
                console.error('File upload elements not found');
                return;
            }

            // Check if upload option is already selected (when navigating back/forth)
            function checkImagePreference() {
                const selectedOption = document.querySelector('input[name="imagePreference"]:checked');
                if (selectedOption && (selectedOption.value === 'upload' || selectedOption.value === 'mix')) {
                    imageUploadGroup.style.display = 'block';
                } else {
                    imageUploadGroup.style.display = 'none';
                }
            }

            // Handler function for image preference change
            function handleImagePreferenceChange() {
                const selectedOption = document.querySelector('input[name="imagePreference"]:checked');
                if (selectedOption && (selectedOption.value === 'upload' || selectedOption.value === 'mix')) {
                    imageUploadGroup.style.display = 'block';
                } else {
                    imageUploadGroup.style.display = 'none';
                }
            }

            // Set up radio button listeners
            document.querySelectorAll('input[name="imagePreference"]').forEach(radio => {
                radio.addEventListener('change', handleImagePreferenceChange);
                radio.addEventListener('click', handleImagePreferenceChange); // Also listen for clicks
            });

            // Check on page load
            checkImagePreference();

            // Re-check when step 5 becomes active
            const observer = new MutationObserver(() => {
                const step5 = document.getElementById('step5');
                if (step5 && step5.classList.contains('active')) {
                    checkImagePreference();
                }
            });

            observer.observe(document.body, {
                childList: true,
                subtree: true,
                attributes: true,
                attributeFilter: ['class']
            });

            // File upload click handler - always trigger file input
            fileUploadArea.addEventListener('click', (e) => {
                // Only prevent if clicking the file input itself
                if (e.target !== imageUpload) {
                    e.preventDefault();
                    e.stopPropagation();
                    imageUpload.click();
                }
            });
            
            // Also handle touch events for mobile
            fileUploadArea.addEventListener('touchend', (e) => {
                e.preventDefault();
                e.stopPropagation();
                if (e.target !== imageUpload) {
                    imageUpload.click();
                }
            });

            // Drag and drop handlers
            fileUploadArea.addEventListener('dragover', (e) => {
                e.preventDefault();
                e.stopPropagation();
                fileUploadArea.classList.add('dragover');
            });

            fileUploadArea.addEventListener('dragleave', (e) => {
                e.preventDefault();
                e.stopPropagation();
                fileUploadArea.classList.remove('dragover');
            });

            fileUploadArea.addEventListener('drop', (e) => {
                e.preventDefault();
                e.stopPropagation();
                fileUploadArea.classList.remove('dragover');
                const files = Array.from(e.dataTransfer.files).filter(file => file.type.startsWith('image/'));
                handleFiles(files);
            });

            // File input change handler
            imageUpload.addEventListener('change', (e) => {
                handleFiles(Array.from(e.target.files));
            });
        }

        function handleFiles(files) {
            if (!files || files.length === 0) {
                return;
            }

            // Filter only image files
            const imageFiles = Array.from(files).filter(file => {
                return file.type.startsWith('image/') || 
                       /\.(jpg|jpeg|png|gif|webp|bmp|svg)$/i.test(file.name);
            });

            if (imageFiles.length === 0) {
                alert('Please select image files only (JPG, PNG, GIF, WEBP, etc.)');
                return;
            }

            if (imageFiles.length !== files.length) {
                alert(`Only ${imageFiles.length} of ${files.length} files are valid images. Uploading valid images only.`);
            }

            imageFiles.forEach(file => {
                if (file.size > 10 * 1024 * 1024) {
                    alert(`File ${file.name} is too large. Maximum size is 10MB.`);
                    return;
                }

                const fileData = {
                    name: file.name,
                    size: file.size,
                    file: file,
                    status: 'uploading'
                };

                formData.uploadedFiles.push(fileData);
                displayUploadedFile(fileData);
                uploadToGoogleDrive(fileData);
            });

            // Reset input to allow selecting same file again
            imageUpload.value = '';
        }

        // Sanitize filename for use as ID
        function sanitizeFilename(filename) {
            return filename.replace(/[^a-z0-9]/gi, '_').substring(0, 50);
        }

        function displayUploadedFile(fileData) {
            const fileDiv = document.createElement('div');
            fileDiv.className = 'uploaded-file';
            const safeId = sanitizeFilename(fileData.name) + '_' + Date.now();
            fileDiv.id = `file-${safeId}`;
            fileData.safeId = safeId; // Store safe ID for later reference
            
            const fileSize = (fileData.size / 1024 / 1024).toFixed(2);
            
            fileDiv.innerHTML = `
                <div class="file-info">
                    <img class="file-thumbnail" src="" alt="Preview" style="display: none;" />
                    <div class="file-name">
                        <div style="font-weight: 600;">${fileData.name}</div>
                        <div style="font-size: 0.75rem; color: var(--muted);">${fileSize} MB</div>
                    </div>
                </div>
                <div class="upload-status uploading">Uploading...</div>
            `;
            
            uploadedFiles.appendChild(fileDiv);
            
            // Create thumbnail preview
            const reader = new FileReader();
            reader.onload = function(e) {
                const thumbnail = fileDiv.querySelector('.file-thumbnail');
                if (thumbnail) {
                    thumbnail.src = e.target.result;
                    thumbnail.style.display = 'block';
                }
            };
            reader.readAsDataURL(fileData.file);
        }

        function updateFileStatus(fileData, status, message) {
            const fileDiv = document.getElementById(`file-${fileData.safeId}`);
            if (fileDiv) {
                const statusDiv = fileDiv.querySelector('.upload-status');
                statusDiv.className = `upload-status ${status}`;
                statusDiv.textContent = message;
            }
        }

        async function uploadToGoogleDrive(fileData) {
            // Check if Google Apps Script URL is configured
            if (!CONFIG.GOOGLE_APPS_SCRIPT_URL || CONFIG.GOOGLE_APPS_SCRIPT_URL === 'YOUR_GOOGLE_APPS_SCRIPT_URL') {
                updateFileStatus(fileData, 'error', '‚úó Not Configured');
                fileData.status = 'error';
                fileData.error = 'Google Apps Script URL not configured';
                alert('Upload not configured. Please set up Google Apps Script URL in the configuration.');
                return;
            }

            try {
                updateFileStatus(fileData, 'uploading', 'Uploading to Google Drive...');
                
                // Convert file to base64
                const base64Data = await new Promise((resolve, reject) => {
                    const reader = new FileReader();
                    reader.onload = () => {
                        // Remove data URL prefix (data:image/jpeg;base64,)
                        const base64 = reader.result.split(',')[1];
                        resolve(base64);
                    };
                    reader.onerror = reject;
                    reader.readAsDataURL(fileData.file);
                });

                // Prepare data to send
                const uploadData = {
                    fileName: fileData.name,
                    mimeType: fileData.file.type,
                    fileData: base64Data,
                    folderId: CONFIG.GOOGLE_DRIVE_FOLDER_ID,
                    clientName: formData.businessName || 'Client'
                };

                // Upload to Google Drive via Google Apps Script
                // Note: We use a workaround by sending the request and checking if it completes
                // Google Apps Script Web Apps don't support CORS, so we use a form submission approach
                const formData_upload = new FormData();
                formData_upload.append('fileName', uploadData.fileName);
                formData_upload.append('mimeType', uploadData.mimeType);
                formData_upload.append('fileData', uploadData.fileData);
                formData_upload.append('folderId', uploadData.folderId);
                formData_upload.append('clientName', uploadData.clientName);

                // Send request - Google Apps Script handles this
                await fetch(CONFIG.GOOGLE_APPS_SCRIPT_URL, {
                    method: 'POST',
                    body: formData_upload
                });

                // If we get here without error, assume success
                // (In production, you might want to add a callback or polling mechanism)
                updateFileStatus(fileData, 'success', '‚úì Uploaded to Drive');
                fileData.status = 'success';
                fileData.driveUrl = `https://drive.google.com/drive/folders/${CONFIG.GOOGLE_DRIVE_FOLDER_ID}`;
                fileData.uploadedAt = new Date().toISOString();
                fileData.storageType = 'googleDrive';
                
                console.log(`File ${fileData.name} uploaded successfully to Google Drive`);
            } catch (error) {
                updateFileStatus(fileData, 'error', '‚úó Failed');
                fileData.status = 'error';
                fileData.error = error.message;
                console.error(`Error uploading ${fileData.name} to Google Drive:`, error);
                alert(`Failed to upload ${fileData.name}. Please check your Google Apps Script setup and try again.`);
            }
        }

        // Save submission to localStorage (for admin panel)
        function saveSubmissionToStorage(submissionData) {
            try {
                let submissions = JSON.parse(localStorage.getItem('moshitech_submissions') || '[]');
                const submission = {
                    id: Date.now().toString(),
                    ...submissionData
                };
                submissions.push(submission);
                localStorage.setItem('moshitech_submissions', JSON.stringify(submissions));
                console.log('Submission saved to localStorage:', submission.id);
            } catch (error) {
                console.error('Error saving to localStorage:', error);
            }
        }


        // Form submission
        document.getElementById('intakeForm').addEventListener('submit', async function(e) {
            e.preventDefault();
            
            if (!validateStep(8)) {
                return;
            }

            // Save all data
            for (let i = 1; i <= 7; i++) {
                saveStepData(i);
            }

            // Check if images are still uploading
            const uploadingFiles = formData.uploadedFiles.filter(f => f.status === 'uploading');
            if (uploadingFiles.length > 0) {
                alert('Please wait for all images to finish uploading before submitting.');
                return;
            }

            const submitButton = document.querySelector('button[type="submit"]');
            const originalText = submitButton.innerHTML;
            submitButton.disabled = true;
            submitButton.innerHTML = 'Submitting...';

            // Prepare submission data
            const submissionData = {
                ...formData,
                submittedAt: new Date().toISOString()
            };

            try {
                // Save to localStorage for admin panel
                saveSubmissionToStorage(submissionData);

                // Send submission data to Google Apps Script to create Google Doc
                try {
                    const formData_doc = new FormData();
                    formData_doc.append('submissionData', JSON.stringify(submissionData));
                    
                    // Send to Google Apps Script (fire and forget - don't wait for response)
                    fetch(CONFIG.GOOGLE_APPS_SCRIPT_URL, {
                        method: 'POST',
                        body: formData_doc
                    }).then(response => {
                        console.log('Form submission sent to Google Apps Script for document creation');
                    }).catch(error => {
                        console.error('Error sending submission to Google Apps Script:', error);
                        // Don't block form submission if doc creation fails
                    });
                } catch (docError) {
                    console.error('Error creating document:', docError);
                    // Continue even if document creation fails
                }

                // Trigger custom event to notify admin panel (if open in another tab)
                // This works across tabs using localStorage
                const updateEvent = new CustomEvent('newSubmission', {
                    detail: { submissionId: submissionData.id || Date.now().toString() }
                });
                window.dispatchEvent(updateEvent);
                
                // Also trigger storage event manually for same-origin updates
                // (storage event only fires in other tabs, not the same tab)
                const event = new StorageEvent('storage', {
                    key: 'moshitech_submissions',
                    newValue: localStorage.getItem('moshitech_submissions')
                });
                window.dispatchEvent(event);

                // Show success message
                document.querySelector('.form-container form').style.display = 'none';
                document.getElementById('successMessage').style.display = 'block';
                
                // Scroll to top
                window.scrollTo({ top: 0, behavior: 'smooth' });

                // Start countdown and redirect
                let countdown = 5;
                const countdownElement = document.getElementById('countdown');
                
                const countdownInterval = setInterval(() => {
                    countdown--;
                    if (countdownElement) {
                        countdownElement.textContent = countdown;
                    }
                    
                    if (countdown <= 0) {
                        clearInterval(countdownInterval);
                        // Redirect to index.html
                        window.location.href = 'index.html';
                    }
                }, 1000);
            } catch (error) {
                console.error('Error submitting form:', error);
                alert('There was an error submitting your form. Please try again or contact us directly.');
                submitButton.disabled = false;
                submitButton.innerHTML = originalText;
            }
        });

        // Initialize
        initStepIndicator();
        updateProgress();
        
        // Initialize file upload when DOM is ready
        if (document.readyState === 'loading') {
            document.addEventListener('DOMContentLoaded', initializeFileUpload);
        } else {
            initializeFileUpload();
        }
    </script>
</body>
</html>
